<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

  
<head>
    <title>p5js Template</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.3/p5.js"></script>
    
    <script>
    var spawn1,spawn2,spawn3
    var y1,y2,y3
    var ySpeed1,ySpeed2,ySpeed3
    var xShift
    var block
    var yBlock
    var score
    var difficulty
        function setup() {
            createCanvas(600,600);
            spawn = random()
            y1 = random(90,110)
            y2 = random(90,110)
            y3 = random(90,110)
            spawn1 = random(40,140)
            spawn2 = random(240,340)
            spawn3 = random(440,540)
            ySpeed1 = 2*random(1,2)
            ySpeed2 = 2*random(1,2)
            ySpeed3 = 2*random(1,2)
            xShift = 250
            block=255
            score = 0
            difficulty = 1
        }

        function draw() {
            rectMode(CENTER)
            background(200)
            
            fill(block,0,0)
            rect(mouseX,550,100,30)
            
           //blocks falling down
            fill(255)
            rect(spawn1,y1,40,40)
            y1 += ySpeed1*difficulty
            rect(spawn2,y2,40,40)
            y2 += ySpeed2*difficulty
            rect(spawn3,y3,40,40)
            y3 += ySpeed3*difficulty
 
           //reset for blocks when touch bottom
            if (y1 > 550) {
                y1 = 0
                spawn1 = random(40,140)
                score--
            }
          if (y2 > 550) {
                y2 = 0
                spawn2 = random(240,340)
                score--
            }
          if (y3 > 550) {
                y3 = 0
                score--
                spawn3 = random(440,540)
            }
          
          //red touches block and score increase or decrase
          textSize(30)
          text(str(score),500,50)
          score = constrain(score,0,100)
          
          if (y1 > 550-15 && spawn1 > mouseX-50 && spawn1 < mouseX+50) {
            score++
            y1 = 0
            spawn1 = random(40,140)
            ySpeed1 = 2*random(1,2)
          }
          if (y2 > 550-15 && spawn2 > mouseX-50 && spawn2 < mouseX+50) {
            score++
            y2 = 0
            spawn2 = random(240,340)
            ySpeed2 = 2*random(1,2)
          }
          if (y3 > 550-15 && spawn3 > mouseX-50 && spawn3 < mouseX+50) {
            score++
            y3 = 0
            spawn3 = random(440,540)
            ySpeed3 = 2*random(1,2)
          }

           //difficulty
          //score limit
           if (score > 25) {
               clear()
               difficulty = 0
               fill(0)
               text("You Win",300,300)
          } else if (score > 20) {
               difficulty = 3
          } else if (score > 10) {
               difficulty = 2
          } else {
               difficulty = 1
          }


      } 
        
    
    </script>
</head>

<body>
    <div id="code" class="container-fluid">
        <script src="https://gist-it.appspot.com/github/bairul6154/p5js/blob/master/Conditionals-project.html?footer=0"></script>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
        $(window).bind("load", function() {
            $('#code').before($('#defaultCanvas0').remove());
        });
    </script>
</body>


</html>
